<div class="login-wrapper" fxLayout="row" fxLayoutAlign="center center">
    <mat-card class="box">
        <mat-card-header>
            <mat-card-title>Register</mat-card-title>
        </mat-card-header>

        <form class="example-form" *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm"
            novalidate>
            <mat-card-content>
                <mat-form-field class="example-full-width">
                    <input matInput placeholder="Nom d'utilisateur" class="form-control" name="username"
                        [(ngModel)]="form.username" required minlength="3" maxlength="20" #username="ngModel">
                </mat-form-field>

                <div class="alert-danger" *ngIf="username.errors && f.submitted">
                    <div *ngIf="username.errors.required">Nom d'utilisateur est nécessaire</div>
                    <div *ngIf="username.errors.minlength">
                        Le nom d'utilisateur doit comporter au moins 3 caractères 
                    </div>
                    <div *ngIf="username.errors.maxlength">
                        Le nom d'utilisateur ne doit pas dépasser 20 caractères
                    </div>
                </div>

                <mat-form-field class="example-full-width">
                    <input matInput placeholder="Email" type="email" class="form-control" name="email"
                        [(ngModel)]="form.email" required email #email="ngModel">
                </mat-form-field>

                <div class="alert-danger" *ngIf="email.errors && f.submitted">
                    <div *ngIf="email.errors.required">L'e-mail est requis</div>
                    <div *ngIf="email.errors.email">
                        L'e-mail doit être une adresse e-mail valide
                    </div>
                </div>

                <mat-form-field class="example-full-width">
                    <input matInput placeholder="Mot de passe" type="password" class="form-control" name="password"
                        [(ngModel)]="form.password" required minlength="6" #password="ngModel">
                </mat-form-field>
                <div class="alert-danger" *ngIf="password.errors && f.submitted">
                    <div *ngIf="password.errors.required">Mot de passe requis</div>
                    <div *ngIf="password.errors.minlength">
                        Le mot de passe doit être au moins de 6 caractères
                    </div>
                </div>

            </mat-card-content>

            <button mat-stroked-button color="accent" class="btn-block">Register</button>
            <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                Échec de l'inscription !<br />{{ errorMessage }}
            </div>
        </form>
        <div class="alert alert-success" *ngIf="isSuccessful" >
            Votre inscription est réussie !
            <app-expert-list></app-expert-list>
        </div>
    </mat-card>
</div>